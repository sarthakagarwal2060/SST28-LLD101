====== AirConditioner.java ======
public class AirConditioner implements SmartClassroomDevice {
    @Override public void powerOn() { /* ok */ }
    @Override public void powerOff() { System.out.println("AC OFF"); }

    @Override public void setBrightness(int pct) { /* irrelevant */ }
    @Override public void setTemperatureC(int c) { System.out.println("AC set to " + c + "C"); }
    @Override public int scanAttendance() { return 0; } // dummy
    @Override public void connectInput(String port) { /* irrelevant */ }
}

====== AttendanceScanner.java ======
public class AttendanceScanner implements SmartClassroomDevice {
    @Override public void powerOn() { /* ok */ }
    @Override public void powerOff() { /* no output */ }

    @Override public void setBrightness(int pct) { /* irrelevant */ }
    @Override public void setTemperatureC(int c) { /* irrelevant */ }
    @Override public int scanAttendance() { return 3; }
    @Override public void connectInput(String port) { /* irrelevant */ }
}

====== ClassroomController.java ======
public class ClassroomController {
    private final DeviceRegistry reg;

    public ClassroomController(DeviceRegistry reg) { this.reg = reg; }

    public void startClass() {
        SmartClassroomDevice pj = reg.getFirstOfType("Projector");
        pj.powerOn();
        pj.connectInput("HDMI-1");

        SmartClassroomDevice lights = reg.getFirstOfType("LightsPanel");
        lights.setBrightness(60);

        SmartClassroomDevice ac = reg.getFirstOfType("AirConditioner");
        ac.setTemperatureC(24);

        SmartClassroomDevice scan = reg.getFirstOfType("AttendanceScanner");
        System.out.println("Attendance scanned: present=" + scan.scanAttendance());
    }

    public void endClass() {
        System.out.println("Shutdown sequence:");
        reg.getFirstOfType("Projector").powerOff();
        reg.getFirstOfType("LightsPanel").powerOff();
        reg.getFirstOfType("AirConditioner").powerOff();
    }
}

====== DeviceRegistry.java ======
import java.util.*;

public class DeviceRegistry {
    private final java.util.List<SmartClassroomDevice> devices = new ArrayList<>();

    public void add(SmartClassroomDevice d) { devices.add(d); }

    public SmartClassroomDevice getFirstOfType(String simpleName) {
        for (SmartClassroomDevice d : devices) {
            if (d.getClass().getSimpleName().equals(simpleName)) return d;
        }
        throw new IllegalStateException("Missing: " + simpleName);
    }
}

====== LightsPanel.java ======
public class LightsPanel implements SmartClassroomDevice {
    @Override public void powerOn() { /* always on */ }
    @Override public void powerOff() { System.out.println("Lights OFF"); }

    @Override public void setBrightness(int pct) { System.out.println("Lights set to " + pct + "%"); }
    @Override public void setTemperatureC(int c) { /* irrelevant */ }
    @Override public int scanAttendance() { return 0; } // dummy
    @Override public void connectInput(String port) { /* irrelevant */ }
}

====== Main.java ======
public class Main {
    public static void main(String[] args) {
        System.out.println("=== Smart Classroom ===");
        DeviceRegistry reg = new DeviceRegistry();
        reg.add(new Projector());
        reg.add(new LightsPanel());
        reg.add(new AirConditioner());
        reg.add(new AttendanceScanner());

        ClassroomController c = new ClassroomController(reg);
        c.startClass();
        c.endClass();
    }
}

====== Manual.java ======
// Smell: unrelated documentation-as-code artifact.
public class Manual {
    public static final String TEXT = "Use responsibly.";
}

====== Projector.java ======
public class Projector implements SmartClassroomDevice {
    private boolean on;

    @Override public void powerOn() { on = true; }
    @Override public void powerOff() { on = false; System.out.println("Projector OFF"); }

    @Override public void setBrightness(int pct) { /* irrelevant */ }
    @Override public void setTemperatureC(int c) { /* irrelevant */ }
    @Override public int scanAttendance() { return 0; } // dummy
    @Override public void connectInput(String port) { if (on) System.out.println("Projector ON (" + port + ")"); }
}

====== SmartClassroomDevice.java ======
public interface SmartClassroomDevice {
    // Fat interface (ISP violation)
    void powerOn();
    void powerOff();
    void setBrightness(int pct);
    void setTemperatureC(int c);
    int scanAttendance();
    void connectInput(String port);
}

