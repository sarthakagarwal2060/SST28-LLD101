====== CodeGrader.java ======
public class CodeGrader {
    public int grade(Submission s, Rubric r) {
        // fake scoring (but deterministic)
        int base = Math.min(80, 50 + s.code.length() % 40);
        return base + r.bonus;
    }
}

====== EvaluationPipeline.java ======
public class EvaluationPipeline {
    // DIP violation: high-level module constructs concretes directly
    public void evaluate(Submission sub) {
        Rubric rubric = new Rubric();
        PlagiarismChecker pc = new PlagiarismChecker();
        CodeGrader grader = new CodeGrader();
        ReportWriter writer = new ReportWriter();

        int plag = pc.check(sub);
        System.out.println("PlagiarismScore=" + plag);

        int code = grader.grade(sub, rubric);
        System.out.println("CodeScore=" + code);

        String reportName = writer.write(sub, plag, code);
        System.out.println("Report written: " + reportName);

        int total = plag + code;
        String result = (total >= 90) ? "PASS" : "FAIL";
        System.out.println("FINAL: " + result + " (total=" + total + ")");
    }
}

====== Main.java ======
public class Main {
    public static void main(String[] args) {
        System.out.println("=== Evaluation Pipeline ===");
        Submission sub = new Submission("23BCS1007", "public class A{}", "A.java");
        new EvaluationPipeline().evaluate(sub);
    }
}

====== PlagiarismChecker.java ======
public class PlagiarismChecker {
    public int check(Submission s) {
        // fake score: lower is "better", but pipeline adds it anyway (smell)
        return (s.code.contains("class") ? 12 : 40);
    }
}

====== ReportWriter.java ======
public class ReportWriter {
    public String write(Submission s, int plag, int code) {
        // writes to a pretend file name
        return "report-" + s.roll + ".txt";
    }
}

====== Rubric.java ======
public class Rubric {
    public final int bonus = 28;
}

====== SimpleConsole.java ======
// Smell: unused console wrapper
public class SimpleConsole {
    public void log(String s) { System.out.println(s); }
}

====== Submission.java ======
public class Submission {
    public final String roll;
    public final String code;
    public final String filename;

    public Submission(String roll, String code, String filename) {
        this.roll = roll; this.code = code; this.filename = filename;
    }
}

====== TempFiles.java ======
// Smell: unused temp path holder
public class TempFiles {
    public static String tmpDir() { return "tmp"; }
}

